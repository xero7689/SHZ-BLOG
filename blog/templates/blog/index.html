{% extends "blog/base.html" %}
{% load martortags %}
{% load blog_extras %}
{% block head %}
  <title>{{ post.title }}</title>
{% endblock head %}
{% block header %}
  <div id="header-wrapper">
    <h1 class="site-header-text">shzlee.com</h1>
  </div>
{% endblock header %}
{% block nav %}
  <div id="nav-wrapper">
    <ul class="nav-list">
      <li class="nav-item">
        <a href="{% url 'index' %}">POSTS</a>
      </li>
      <li class="nav-item">
        <a>PROJECT</a>
      </li>
      <li class="nav-item">
        <a>PROFILE</a>
      </li>
      <li class="nav-item">
        <a>CONTACT</a>
      </li>
    </ul>
  </div>
{% endblock nav %}
{% block sidepanel %}
  <div id="index-sidepanel-wrapper">
    <div id="index-sidepanel-profile-wrapper">
      <div id="index-sidepanel-profile">
        <h2>
          <span>About Me</span>
        </h2>
        <p>{{ profile.biography }}</p>
      </div>
      <hr class="date-parameter-divier">
      <div id="index-sidepanel-archive">
        <div id="index-sidepanel-archive-header-wrapper">
          <h2>
            <span>Archive</span>
          </h2>
        </div>
        <div id="index-sidepanel-archive-list-wrapper">
          {% for year, months in archive.items %}
            <ul>
              {% for month, posts in months.items %}
                <li>
                  <a href={% url 'index' year=year month=month %}>{{ month|month_name }} {{ year }}</a>
                  <ul>
                    {% for post in posts %}
                      <li>
                        <a href={{ post.get_absolute_url }}>{{ post.title }}</a>
                      </li>
                    {% endfor %}
                  </ul>
                </li>
              {% endfor %}
            </ul>
          {% endfor %}
        </div>
      </div>
      <hr class="date-parameter-divier">
      <div id="index-sidepanel-category">
        <div id="index-sidepanel-category-header-wrapper">
          <h2>Category</h2>
        </div>
        <div id="index-sidepanel-category-list-wrapper">
          <ul>
            {% for category in categories %}
              <li>
                <a href={{ category.get_absolute_url }}>{{ category }}</a>
              </li>
            {% endfor %}
          </ul>
        </div>
      </div>
    </div>
  </div>
{% endblock sidepanel %}
{% block breadcrumbs %}
  <nav id="breadcrumbs">
    {% if request.path != '/blog/' %}
      {% for path in breadcrumb_path %}
        {% if forloop.last %}
          <span class="breadcrumb-item-active">{{ path.name }}</span>
        {% else %}
          <span class="breadcrumb-item"><a href='{{ path.href }}'>{{ path.name }}</a></span>
          <span>/</span>
        {% endif %}
      {% endfor %}
    {% endif %}
  </nav>
{% endblock breadcrumbs %}
{% block main %}
  <div id="index-main-wrapper">
    {% if date_parameter %}
      <div id="date-parameter-wrapper">
        <h2>{{ date_parameter.year }}年</h2>
        {% if date_parameter.month %}<h2>{{ date_parameter.month }}月</h2>{% endif %}
      </div>
      <hr class="date-parameter-divier">
    {% endif %}
    {% include "blog/postList.html" with posts=posts %}
  </div>
{% endblock main %}
{% block footer %}
  <div id="footer-wrapper">
    <div id="footer-copyright-wrapper">
      <p>Copyright © 2023 SHZ LEE. All rights reserved.</p>
    </div>
  </div>
{% endblock footer %}
